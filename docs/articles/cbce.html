<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started • cbce</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="cbce">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cbce</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/cbce.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/miheerdew/cbce/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started</h1>
                        <h4 class="author">Miheer Dewaskar</h4>
            
            <h4 class="date">2020-10-20</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/miheerdew/cbce/blob/master/vignettes/cbce.Rmd"><code>vignettes/cbce.Rmd</code></a></small>
      <div class="hidden name"><code>cbce.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>Abstractly, CBCE is a new algorthim to find communities in a bipartite correlation network. Concretely, given two groups of variables with common samples, CBCE finds collection of variables from the first and second group which are correlated to each other. Such a collection will be called a Correlation Bi-Community, or simply a community. CBCE tries to find all Correlation Bi-Communities within the data.</p>
</div>
<div id="getting-started" class="section level1">
<h1 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h1>
<div id="the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-data" class="anchor"></a>The Data</h2>
<p>The data that we work on will need to have two groups of variables on a common sample. So for instance, it could be two high-dimensional measurements, like RNA-Seq and Genotyping, on the same set of subjects.</p>
<p>Assume that the varaibles/measurements are given in the form of two matrices <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>. The rows represent the samples (which are same for both the matrices) and the coulmns represent the variables. In the theoretical analysis, the samples are assumed to be independent and indentical to each other. As an example, let us generated these measurements randomly:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">50</span> <span class="co">#Sample size</span>
<span class="va">dx</span> <span class="op">&lt;-</span> <span class="fl">20</span> <span class="co">#Dim of measurement 1</span>
<span class="va">dy</span> <span class="op">&lt;-</span> <span class="fl">50</span> <span class="co">#Dim of measurement 2</span>
<span class="va">rho</span> <span class="op">&lt;-</span> <span class="fl">0.5</span> <span class="co">#Correlation to induce</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1245</span><span class="op">)</span>
<span class="va">noise.X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">dx</span><span class="op">*</span><span class="va">n</span><span class="op">)</span>, nrow<span class="op">=</span><span class="va">n</span>, ncol<span class="op">=</span><span class="va">dx</span><span class="op">)</span>
<span class="va">noise.Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">dy</span><span class="op">*</span><span class="va">n</span><span class="op">)</span>, nrow<span class="op">=</span><span class="va">n</span>, ncol<span class="op">=</span><span class="va">dy</span><span class="op">)</span> 
<span class="co">#Assume the noise from X[, 4:6] is </span>
<span class="co"># correlated from the noise from Y[, 9:11]</span>
<span class="va">noise.Y</span><span class="op">[</span>, <span class="fl">9</span><span class="op">:</span><span class="fl">11</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">rho</span><span class="op">)</span><span class="op">*</span><span class="va">noise.Y</span><span class="op">[</span>, <span class="fl">9</span><span class="op">:</span><span class="fl">11</span><span class="op">]</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">rho</span><span class="op">/</span><span class="fl">3</span><span class="op">)</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">noise.X</span><span class="op">[</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span>

<span class="va">muX</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="va">dx</span> 
<span class="va">muY</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="va">dy</span>
<span class="co"># X represents noisy measurement of muX</span>
<span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">muX</span>,each<span class="op">=</span><span class="va">n</span><span class="op">)</span>, nrow<span class="op">=</span><span class="va">n</span><span class="op">)</span> <span class="op">+</span> <span class="va">noise.X</span> 
<span class="co"># Y represents noisy measurement of muY</span>
<span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">muY</span>,each<span class="op">=</span><span class="va">n</span><span class="op">)</span>, nrow<span class="op">=</span><span class="va">n</span><span class="op">)</span> <span class="op">+</span> <span class="va">noise.Y</span></pre></div>
</div>
<div id="objective" class="section level2">
<h2 class="hasAnchor">
<a href="#objective" class="anchor"></a>Objective</h2>
<p>From the measurement matrices <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> we want to find the columns of <span class="math inline">\(X\)</span> which are correlated with the columns of <span class="math inline">\(Y\)</span>. So hence in the example above, we want to recover the set <span class="math inline">\((A_x, A_y) = \left( \{ 4, 5, 6\}, \{9, 10, 11 \} \right)\)</span> since we have deliberately induced a correlation between the variables <span class="math inline">\(A_x\)</span> from <span class="math inline">\(X\)</span> and variables <span class="math inline">\(A_y\)</span> from <span class="math inline">\(Y\)</span>. Let us see if CBCE can do this for us:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://miheerdew.github.io/cbce/">cbce</a></span><span class="op">)</span>
<span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbce.html">cbce</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">Y</span><span class="op">)</span>
<span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">comms</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">res</span><span class="op">$</span><span class="va">comms</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="op">}</span>
<span class="co">#&gt; $x</span>
<span class="co">#&gt; [1] 4 5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $y</span>
<span class="co">#&gt; [1] 10 11</span></pre></div>
<p>So we recovered <span class="math inline">\(A_y\)</span> completely, but couldn’t recover all of <span class="math inline">\(A_x\)</span> (we missed variable <span class="math inline">\(6\)</span>). If we wish to recover all of <span class="math inline">\(A_x\)</span> we would need the correlations to be stronger, or the sample size to be larger.</p>
</div>
</div>
<div id="running-the-method-on-your-data-set" class="section level1">
<h1 class="hasAnchor">
<a href="#running-the-method-on-your-data-set" class="anchor"></a>Running the method on your data set</h1>
<p>To run CBCE on your own dataset, you would need to load it into <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> matrices and pass them <code><a href="../reference/cbce.html">cbce()</a></code> as shown in the previous section. The CBCE procedure will probably take some time to finish its search, so to get updates while <code>cbce</code> runs, you might want to pass the arguments <code>interaction=interaction_cli</code> – provides a commandline progress bar, or <code>interaction=interaction_gui</code> – provides an experimental GUI to interact with the procedure. If the result seems to be finding too many (or too little) things, you might want to decrease (or increase) the value of the parameter <code>alpha</code> from its default at <code>0.05</code>. See <code><a href="../reference/cbce.html">?cbce</a></code> for more details about the arguments.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="co">#Load your data into X and Y matrices</span>
<span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbce.html">cbce</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">Y</span>, interaction<span class="op">=</span><span class="va">interaction_gui</span>, alpha<span class="op">=</span><span class="fl">0.01</span><span class="op">)</span>
<span class="co">#&gt; Warning in value[[3L]](cond): Warning detected by GUI:simpleWarning in value[[3L]](cond): Error detected by GUI:Error in loadNamespace(name): there is no package called 'tcltk2'</span>
<span class="co">#&gt; Warning in value[[3L]](cond): Warning detected by GUI:simpleWarning in value[[3L]](cond): Error detected by GUI:Error in structure(.External(.C_dotTclObjv, objv), class = "tclObj"): [tcl] invalid command name "configure".</span>

<span class="co"># List of communities. </span>
<span class="co"># Each community is a list consisting of fields x and y resp, which</span>
<span class="co"># represent the variables from X and Y in that community.</span>
<span class="va">res</span><span class="op">$</span><span class="va">comms</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [[1]]$x</span>
<span class="co">#&gt; [1] 4</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[1]]$y</span>
<span class="co">#&gt; [1] 11</span></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by John Palowitch, Miheer Dewaskar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
